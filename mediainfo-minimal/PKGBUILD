# Maintainer: tinywrkb <tinywrkb@gmail.com>
# Contributor: Johannes LÃ¶thberg <johannes@kyriasis.com>
# Contributor: Sergej Pupykin <pupykin.s+arch@gmail.com>
# Contributor: hydro <hydro@freenet.de>

pkgname=mediainfo-minimal
pkgver=22.03
pkgrel=1
pkgdesc="Supplies technical and tag information about a video or audio file (CLI interface)"
url="https://mediaarea.net/"
arch=('x86_64')
license=('BSD')
depends=(libmediainfo-minimal)
conflicts=(mediainfo)
provides=(mediainfo)
source=(https://mediaarea.net/download/source/mediainfo/$pkgver/mediainfo_$pkgver.tar.xz)
sha512sums=('981c9fe410cf6fff1a87ecfe250216977e036e8606034621c18bbf66cc75261c2e0f411bbbf298a409b5b306f7f7ee993a1e24e70040cf48a7728550ef7d830b')

build() {
  cd MediaInfo/Project/GNU/CLI
  ./autogen.sh
  ./configure --prefix=/usr
  make
}

package() {
  make -C MediaInfo/Project/GNU/CLI DESTDIR="$pkgdir" install
  install -Dm644 MediaInfo/LICENSE "$pkgdir"/usr/share/licenses/$pkgname/LICENSE
}
